<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Deciderator 2.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
ta
</head>
<body class="full-height">
<div class="container-fluid full-height">

</div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>

<script>
    var webSocket = new SockJS('/handler');
    webSocket.onmessage = receiveMsg;

    webSocket.onclose = function() {
        console.log('close');
    };

    webSocket.onopen = function() {
        console.log('open')
        //sendMessage({})
    };

    function receiveMsg(msg) {
        console.log(msg)
    }

    function sendMessage(msg) {
        webSocket.send(JSON.stringify(msg))
    }

    /*
    $("#send").click(function () {
        sendMessage("say", $("#msg").val());
    });
    $("#msg").keypress(function(e) {
        if(e.which == 13) sendMessage("say", e.target.value);
    });
    function sendMessage(type, data) {
        if (data !== "") {
            webSocket.send(JSON.stringify({type: type, data: data}));
            $("#msg").val("");
            $("#msg").focus();
        }
    }
    function receievMsg(msg) {
        if (msg.msgType == "say") {
            $("#chatbox").append("<p>"+msg.data+"</p>");
        }
        else if (msg.msgType == "join") {
            addUser(msg.data);
        }
        else if (msg.msgType == "users") {
            msg.data.forEach(function(el) { addUser(el); });
        }
        else if (msg.msgType == "left") {
            $("#user-"+msg.data.id).remove();
        }
    }
    function addUser(user) {
        $("#userlist").append("<li id='user-"+user.id+"'>"+user.username+"</li>");
    }*/
</script>
</body>
</html>